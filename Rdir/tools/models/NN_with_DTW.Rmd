---
title: "R Notebook"
output: html_notebook
---

```{r}

library("opensignauxfaibles")
library("dplyr")
library("tidyverse")
library("mice")
library("R.utils")
library("nnet")
library("caret")
library("lazyeval")
sourceDirectory("../tools",recursive = TRUE, modifiedOnly = FALSE,verbose = FALSE)
source('./data_pipes/date_prep_dette_sur_effectif_ts.Rmd')
```



```{r}
# Compute distance matrix

# DTW package
```

```{r}

ctrl <-
  trainControl(
  method = "cv",
  classProbs = TRUE,
  summaryFunction = prSummary
  )

nnetfit <-  train(outcome ~ ., 
                  data = nn_train %>% select(-siret), 
                  method = 'nnet',
                  metric = 'F',
                  tuneGrid = nnet_grid,
                  trControl = ctrl,
                  maxit = 1200) # Provisoire pour gagner du temps

plot(nnetfit)
```

