---
title: "Compute samples"
output: html_notebook
---


```{r}
library("opensignauxfaibles")
library("dplyr")
database_signauxfaibles <- database_connect()
```

```{r}
src_tbls(x = database_signauxfaibles)
```

## Effectif

```{r}
compute_sample_effectif(
  db = database_signauxfaibles,
  .date = "2013-01-01"
  )
```

```{r}
compute_wholesample_effectif(db = database_signauxfaibles, name = "wholesample_effectif")
```

## Altares

```{r}
compute_sample_altares(db = database_signauxfaibles, .date = "2017-01-01")
```

```{r}
compute_prefilter_altares(
  db = database_signauxfaibles,
  .date = "2017-01-01"
  )
```

```{r}
compute_sample_sirene(db = database_signauxfaibles)
```

## Activité partielle

```{r}
compute_sample_apart(
  db = database_signauxfaibles, 
  .date = "2017-01-01", 
  n_months = 12)
```

```{r}
compute_sample_apart_consommee(db = database_signauxfaibles, .date = "2017-03-01")
```

## Cotisations moyennes

```{r}
get_table_last_n_months(.date = "2017-01-01", .n_months = 12) 
```

```{r}
compute_sample_meancotisation(db = database_signauxfaibles, .date = "2017-01-01")
```

```{r}
compute_sample_dettecumulee(db = database_signauxfaibles, .date = "2013-01-01")
```

```{r}
compute_sample_lag_dettecumulee(db = database_signauxfaibles, lag = 12, .date = "2017-01-01")
```


```{r}
compute_sample_growth_dettecumulee(
  db = database_signauxfaibles, .date = "2017-01-01", lag = 12)
```

```{r}
compute_sample_nbdebits(
  db = database_signauxfaibles, 
  .date = "2017-01-01", 
  n_months = 12)
```

### Délais URSSAF

```{r}
compute_sample_delais(db = database_signauxfaibles, .date = "2017-01-01")
```


## Filtre CCSV

```{r}
compute_filter_ccsv(db = database_signauxfaibles, .date = "2017-01-01")
```

### Filter procédures collectives

```{r}
compute_filter_proccollectives(db = database_signauxfaibles, .date = "2017-01-01")
```

## Compute sample

```{r}
compute_sample(db = database_signauxfaibles, .date = "2017-01-01")
```

